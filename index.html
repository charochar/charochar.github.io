<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHAROCHAR // 4o4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;900&family=Vazirmatn:wght@300;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Vazirmatn', 'Inter', sans-serif;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #000; /* Ensure black background */
        }

        .hero-pillar-container {
            position: relative;
            overflow: hidden;
            transform: perspective(1000px);
            z-index: 1; 
            filter: saturate(1.2) contrast(1.1); 
            margin-bottom: 2rem; /* Space below the image */
        }

        .hero-pillar-container::after {
            content: '';
            position: absolute;
            inset: 0;
            box-shadow: inset 0 0 5vw 2vw #000;
            pointer-events: none;
            z-index: 3;
        }

        .hero-pillar-container::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 50%, transparent 50%);
            background-size: 100% 4px;
            animation: scanline-move 10s linear infinite;
            pointer-events: none;
            z-index: 2;
            opacity: 0.5;
        }

        @keyframes scanline-move {
            0% { background-position-y: 0; }
            100% { background-position-y: 400px; }
        }

        .hero-image {
            animation: 
                pulse-zoom 10s ease-in-out infinite,
                image-glitch 3.5s steps(1) infinite;
        }

        @keyframes pulse-zoom {
            0%, 100% { transform: scale(1) translateZ(0); }
            50% { transform: scale(1.03) translateZ(0); }
        }

        @keyframes image-glitch {
            0%, 90% {
                clip-path: inset(0 0 0 0);
                transform: translate(0, 0);
            }
            91% {
                clip-path: inset(10% 0 70% 0);
                transform: translate(-5px, 0);
            }
            92% {
                clip-path: inset(80% 0 5% 0);
                transform: translate(5px, 0);
            }
            93% {
                clip-path: inset(30% 0 40% 0);
                transform: translate(-5px, 0);
            }
            94%, 100% {
                clip-path: inset(0 0 0 0);
                transform: translate(0, 0);
            }
        }

        /* Glitch effect for single letters */
        .single-letter-glitch-container {
            position: absolute; /* Position relative to body for centering */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Truly center it */
            z-index: 10; /* Ensure it's above everything else */
            pointer-events: none;
            width: 100%;
            text-align: center;
        }

        .glitch-single-letter {
            font-family: 'Vazirmatn', sans-serif;
            font-weight: 900;
            font-size: 8rem; /* Make it HUGE */
            line-height: 1; /* Keep it tight */
            color: #fff;
            position: relative;
            display: inline-block; /* Essential for sizing */
            opacity: 0; /* Hidden by default, JS controls visibility */
            transition: opacity 0.1s; /* Smooth fade in/out if needed */
            text-shadow: 0 0 10px rgba(255,255,255,0.5); /* Subtle glow */
        }
        
        /* Specific glitch animations for the pseudo-elements */
        .glitch-single-letter.active::before,
        .glitch-single-letter.active::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000; /* Background to hide main letter, then blend */
            mix-blend-mode: screen;
        }

        .glitch-single-letter.active::before {
            color: #ff003c; /* Red channel */
            animation: single-text-glitch-1 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        .glitch-single-letter.active::after {
            color: #00ffea; /* Cyan channel */
            animation: single-text-glitch-2 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        /* Keyframes for the single letter glitch */
        @keyframes single-text-glitch-1 {
            0% { clip-path: inset(0 0 0 0); transform: translate(0,0); opacity: 0; }
            10% { opacity: 1; }
            20% { clip-path: inset(80% 0 10% 0); transform: translate(-5px, -3px); } 
            30% { clip-path: inset(0 0 0 0); transform: translate(0,0); }
            40% { clip-path: inset(20% 0 65% 0); transform: translate(3px, 3px); }
            50% { clip-path: inset(0 0 0 0); transform: translate(0,0); }
            60% { clip-path: inset(70% 0 5% 0); transform: translate(-5px, -3px); }
            70% { clip-path: inset(0 0 0 0); transform: translate(0,0); }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }

        @keyframes single-text-glitch-2 {
            0% { clip-path: inset(0 0 0 0); transform: translate(0,0); opacity: 0; }
            10% { opacity: 1; }
            20% { clip-path: inset(40% 0 40% 0); transform: translate(5px, 3px); }
            30% { clip-path: inset(0 0 0 0); transform: translate(0,0); }
            40% { clip-path: inset(75% 0 10% 0); transform: translate(-3px, -3px); }
            50% { clip-path: inset(0 0 0 0); transform: translate(0,0); }
            60% { clip-path: inset(15% 0 70% 0); transform: translate(5px, 3px); }
            70% { clip-path: inset(0 0 0 0); transform: translate(0,0); }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }


        .subtitle-animate {
            animation: fade-in-up 1.5s 0.5s ease-out both;
            font-family: 'Inter', sans-serif;
            position: relative; /* Ensure it stays below and not under single-letter-glitch-container */
            z-index: 5;
        }

        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="bg-black text-white p-4">

    <main class="flex flex-col items-center justify-center min-h-screen">
        
        <div class="relative w-full max-w-xs sm:max-w-sm md:max-w-md rounded-lg hero-pillar-container">
            <img 
                src="https://badnoize.com/4o4/XXX2.jpg" 
                onerror="this.onerror=null; this.src='https://placehold.co/600x900/000000/ff003c?text=CHAROCHAR&font=inter';"
                alt="Cinematic art for Charochar" 
                class="w-full h-auto block rounded-lg hero-image"
            >
        </div>

        <!-- Container for the single glitching letters --><div class="single-letter-glitch-container">
            <span class="glitch-single-letter" data-text="ب">ب</span>
            <span class="glitch-single-letter" data-text="ی">ی</span>
            <span class="glitch-single-letter" data-text="د">د</span>
            <span class="glitch-single-letter" data-text="ا">ا</span>
            <span class="glitch-single-letter" data-text="ر">ر</span>
            <span class="glitch-single-letter" data-text="م">م</span>
            <span class="glitch-single-letter" data-text=" "> </span> <!-- Space character --><span class="glitch-single-letter" data-text="ک">ک</span>
            <span class="glitch-single-letter" data-text="ن">ن</span>
        </div>

        <p class="mt-8 text-lg sm:text-xl md:text-2xl font-light tracking-widest uppercase text-gray-300 subtitle-animate">
            4o4 - OUT NOW
        </p>

        <!-- Hidden email for Spotify verification - Made slightly more visible -->
        <div class="absolute bottom-4 left-0 right-0 text-center w-full text-xs text-gray-500 opacity-75 font-mono select-all" aria-hidden="true">
            charocharmusic@gmail.com
        </div>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const letters = document.querySelectorAll('.glitch-single-letter');
            const fullText = "بیدارم کن"; // For reference
            let currentIndex = 0;

            function animateLetter() {
                // Hide all letters first
                letters.forEach(letter => {
                    letter.style.opacity = '0';
                    letter.classList.remove('active'); // Remove active class to reset animation
                });

                // Get the current letter span
                const currentLetterSpan = letters[currentIndex];

                // If it's a space, just move to the next without showing anything
                if (currentLetterSpan.dataset.text.trim() === '') {
                    currentIndex = (currentIndex + 1) % letters.length;
                    setTimeout(animateLetter, 200); // Shorter delay for space
                    return;
                }

                // Show the current letter and apply glitch
                currentLetterSpan.style.opacity = '1';
                // Trigger reflow to restart animation on the same element
                void currentLetterSpan.offsetWidth; 
                currentLetterSpan.classList.add('active');


                // Move to the next letter for the next cycle
                currentIndex = (currentIndex + 1) % letters.length;

                // Loop the animation
                // This duration should match the total duration of the CSS glitch animation
                setTimeout(animateLetter, 700); // 700ms because the CSS animation is 0.7s
            }

            // Start the animation after a short delay
            setTimeout(animateLetter, 1000); 
        });
    </script>
</body>
</html>



